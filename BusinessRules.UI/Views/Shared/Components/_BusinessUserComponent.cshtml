@using BusinessRules.Domain.DTO
@model SystemViewModel

@{
    Layout = null;
}

<div class="row text-center mt-4 mb-2">
    <h3>
        Manage Rules for
        <select id="manageRuleSelector" class="fieldList ml-2 mr-2 p-1" onchange="SetVisibleApp(event.target)">
            <option value="">Please select</option>
            @foreach (var app in Model.Applications)
            {
                <option value="@app.TopLevelField.Id.ToString("N")">@(app.TopLevelField.FriendlyName)</option>
            }
        </select>
    </h3>
</div>
<hr />

@for (var i = 0; i < Model.Applications.Count; i++)
{
    <div id="ruleContainer@(Model.Applications[i].TopLevelField.Id.ToString("N"))"
         class="ruleContainer container d-none">
        @{
            var currentDto = Model.Applications[i].BusinessUserDTO;
        }
        @Html.EditorFor(x => currentDto)
    </div>
}
